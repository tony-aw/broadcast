{"title":"Broadcasted Dimensional Binding Explained","markdown":{"yaml":{"title":"Broadcasted Dimensional Binding Explained","format":{"html":{"number-sections":true}}},"containsRefs":false,"markdown":"\n\n```{r, include = FALSE}\nknitr::opts_chunk$set(\n  collapse = TRUE,\n  comment = \"#>\"\n)\n```\n\n```{r setup, eval=TRUE, echo=FALSE}\nknitr::opts_chunk$set(message = FALSE, warning = FALSE)\nlibrary(broadcast)\nlibrary(fontawesome) |> suppressWarnings()\nlibrary(tinytable) |> suppressWarnings()\n```\n\n\n&nbsp;\n\n\nThis page explains some details on broadcasting that are specific to the [bind_array()](/man/bind_array.qmd) function.\n\n\n&nbsp;\n\n\n[bind_array()](/man/bind_array.qmd) fully supports broadcasting. It's easy to reason about broadcasting when it involves only 2 arrays. But any more and it becomes more difficult. [bind_array()](/man/bind_array.qmd) supports binding any number of arrays simultaneously. Therefore, [bind_array()](/man/bind_array.qmd) comes with the `ndim2bc` argument (an abbreviation of \" maximum number of dimensions to broadcast\"), which allows users to specify the maximum number of dimensions that are allowed to be broadcasted while binding arrays. This way, users won't get unpleasant surprises.\n\nThis should be fairly obvious, but the dimension specified in `along` is never broadcasted.\n\n&nbsp;\n\nBy default, `ndim2bc` is set to `1`. This means that, by default, [bind_array()](/man/bind_array.qmd) will broadcast no more than 1 dimension for each array in the input list, when necessary.\n\nConsider the following arrays:\n\n```{r}\n\nx <- array(1:20, c(4, 5))\ny <- array(1:5*10, c(1, 5))\nprint(x)\nprint(y)\n\n```\n\nBinding them together with `abind()` won't work:\n\n```{r eval=FALSE, echo=TRUE}\nabind::abind(x, y, along = 2)\nError in abind::abind(x, y, along = 2) : \n  arg 'X2' has dims=1, 5; but need dims=4, X\n```\n\nTo bind `x` and `y` together along columns, `y` needs its single row to be recycled (broadcasted) 4 times.\n\nThis can be done in a highly efficient way using [bind_array()](/man/bind_array.qmd), like so:\n\n```{r}\nbind_array(list(x, y), 2L)\n```\n\n&nbsp;\n\n\n\nBut what if broadcasting is explicitly **not** desired? What if one actually wants this to produce an error, like `abind()`? Fret not, for that's what the `ndim2bc` argument is for. Setting it to `0` will disable broadcasting altogether:\n\n```{r eval=FALSE, echo=TRUE}\nbind_array(list(x, y), 2L, ndim2bc = 0)\nError in bind_array(list(x, y), 2L, ndim2bc = 0) : \n  maximum number of dimensions to be broadcasted (1) exceeds `ndim2bc` (0)\n```\n\n\n&nbsp;\n\n\nLet's replace `x` with a 3 dimensional array:\n\n```{r}\nx <- array(1:20, c(4, 5, 3))\nprint(x)\n```\n\nTrying to bind `x` with `y` now will produce an error even with [bind_array()](/man/bind_array.qmd), to protect the user from unintended broadcasting:\n\n```{r eval=FALSE, echo=TRUE}\nbind_array(list(x, y), 2L)\nError in bind_array(list(x, y), 2L) : \n  maximum number of dimensions to be broadcasted (2) exceeds `ndim2bc` (1)\n```\n\nIf you know you actually do want to broadcast multiple dimensions, simply increase `ndim2bc`:\n\n```{r}\nbind_array(list(x, y), 2L, ndim2bc = 3L)\n```\n\n\n\n&nbsp;\n\n","srcMarkdownNoYaml":"\n\n```{r, include = FALSE}\nknitr::opts_chunk$set(\n  collapse = TRUE,\n  comment = \"#>\"\n)\n```\n\n```{r setup, eval=TRUE, echo=FALSE}\nknitr::opts_chunk$set(message = FALSE, warning = FALSE)\nlibrary(broadcast)\nlibrary(fontawesome) |> suppressWarnings()\nlibrary(tinytable) |> suppressWarnings()\n```\n\n\n&nbsp;\n\n\nThis page explains some details on broadcasting that are specific to the [bind_array()](/man/bind_array.qmd) function.\n\n\n&nbsp;\n\n\n[bind_array()](/man/bind_array.qmd) fully supports broadcasting. It's easy to reason about broadcasting when it involves only 2 arrays. But any more and it becomes more difficult. [bind_array()](/man/bind_array.qmd) supports binding any number of arrays simultaneously. Therefore, [bind_array()](/man/bind_array.qmd) comes with the `ndim2bc` argument (an abbreviation of \" maximum number of dimensions to broadcast\"), which allows users to specify the maximum number of dimensions that are allowed to be broadcasted while binding arrays. This way, users won't get unpleasant surprises.\n\nThis should be fairly obvious, but the dimension specified in `along` is never broadcasted.\n\n&nbsp;\n\nBy default, `ndim2bc` is set to `1`. This means that, by default, [bind_array()](/man/bind_array.qmd) will broadcast no more than 1 dimension for each array in the input list, when necessary.\n\nConsider the following arrays:\n\n```{r}\n\nx <- array(1:20, c(4, 5))\ny <- array(1:5*10, c(1, 5))\nprint(x)\nprint(y)\n\n```\n\nBinding them together with `abind()` won't work:\n\n```{r eval=FALSE, echo=TRUE}\nabind::abind(x, y, along = 2)\nError in abind::abind(x, y, along = 2) : \n  arg 'X2' has dims=1, 5; but need dims=4, X\n```\n\nTo bind `x` and `y` together along columns, `y` needs its single row to be recycled (broadcasted) 4 times.\n\nThis can be done in a highly efficient way using [bind_array()](/man/bind_array.qmd), like so:\n\n```{r}\nbind_array(list(x, y), 2L)\n```\n\n&nbsp;\n\n\n\nBut what if broadcasting is explicitly **not** desired? What if one actually wants this to produce an error, like `abind()`? Fret not, for that's what the `ndim2bc` argument is for. Setting it to `0` will disable broadcasting altogether:\n\n```{r eval=FALSE, echo=TRUE}\nbind_array(list(x, y), 2L, ndim2bc = 0)\nError in bind_array(list(x, y), 2L, ndim2bc = 0) : \n  maximum number of dimensions to be broadcasted (1) exceeds `ndim2bc` (0)\n```\n\n\n&nbsp;\n\n\nLet's replace `x` with a 3 dimensional array:\n\n```{r}\nx <- array(1:20, c(4, 5, 3))\nprint(x)\n```\n\nTrying to bind `x` with `y` now will produce an error even with [bind_array()](/man/bind_array.qmd), to protect the user from unintended broadcasting:\n\n```{r eval=FALSE, echo=TRUE}\nbind_array(list(x, y), 2L)\nError in bind_array(list(x, y), 2L) : \n  maximum number of dimensions to be broadcasted (2) exceeds `ndim2bc` (1)\n```\n\nIf you know you actually do want to broadcast multiple dimensions, simply increase `ndim2bc`:\n\n```{r}\nbind_array(list(x, y), 2L, ndim2bc = 3L)\n```\n\n\n\n&nbsp;\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"number-sections":true,"output-file":"e_binding_explained.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","fontsize":"1.2em","fontcolor":"#18161B","mainfont":"Tahoma","theme":["pandoc","../light.css"],"title":"Broadcasted Dimensional Binding Explained"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}