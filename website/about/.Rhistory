import numpy as np
import gc
from time import perf_counter
def myfunc(a, b):
a + b
# 2d array #
gc.disable()
dimsizes = np.arange(1500, 9501, 750)
median_np = np.zeros(len(dimsizes))
q1_np = np.zeros(len(dimsizes))
q3_np = np.zeros(len(dimsizes))
durations = np.zeros(100)
for i in range(0, len(dimsizes)):
print(i)
n = dimsizes[i]
adims = (n, 1)
bdims = (1, n)
x = np.random.random_sample(adims)
y = np.random.random_sample(bdims)
for j in range(0, len(durations)):
t1_start = perf_counter()
myfunc(x, y)
t1_stop = perf_counter()
durations[j] = (t1_stop-t1_start) * 1000
median_np[i] = np.median(durations)
q1_np[i] = np.quantile(durations, 0.25)
q3_np[i] = np.quantile(durations, 0.75)
gc.collect()
median_np
