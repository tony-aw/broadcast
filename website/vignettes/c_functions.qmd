---
title: "Functions Overview"
format: html
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup, eval=TRUE, echo=FALSE}
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
library(broadcast)
library(kableExtra) |> suppressWarnings()
```


&nbsp;

# Introduction

The 'broadcast' package provides 5 main functionalities:

 - outer-like functions to perform broadcasted outer-computations
 - broadcasted dimensional binding of arrays (and also matrices and data.tables)
 - broadcasted generic pair-wise functions
 - casting/pivoting an array into a new dimension
 - array typecasting with dimensions and names preserved
 
This guide gives a brief overview of the functions provided by the 'broadcast' 'R'-package.


&nbsp;

# Outer-like functions


The 'broadcast' package provides functions that perform Broadcasted outer operations,
similar to base R's `outer()` function.  
While the `outer()` function from base 'R' is only optimised for "*" and type-casts greedily, 'broadcast' provides a separate outer-like function for each set of operations associated with a certain type, which are all highly optimised, and only perform type-casting when needed without allocating additional memory.  
The outer-like functions are the following:

 - [bc.b()](/man/bc.b.qmd): Broadcasted Boolean operations.  
 Includes the &, |, xor, nand, ==, !=, <, >, <=, >= operations.
 - [bc.i()](/man/bc.i.qmd) Broadcasted (53bit) Integer Numeric operations.  
 Includes relational operations, basic arithmetic, and the GCD (greatest common divisor) operation.
 - [bc.d()](/man/bc.d.qmd): Broadcasted (64bit) Decimal Numeric operations.  
 Includes relational operations, relational operations with Machine precision specification, and arithmetic operations.
 - [bc.cplx()](/man/bc.cplx.qmd): Broadcasted Complex Numeric operations.  
 Includes (in)equality operations, and basic arithmetic operations.
 - [bc.str()](/man/bc.str.qmd): Broadcasted String operations.  
 Includes operations for (in)equality, concatenation, and string distance (Levenshtein) calculation.
 - [bc.list()](/man/bc.list.qmd): Broadcasted operations on Recursive arrays.  
 This is outer-like function does not include built-in optimised operations, but does accept almost any binary function.
 

Much like the `outer()` function from base 'R', the outer-like functions provided by 'broadcast', are pair-wise functions; i.e. they operate on 2 arrays at a time.  
This is intentional, as it is quite difficult to reason about broadcasting when it involves more than a pair of arrays.

&nbsp;

::: {.callout-note}

 - [bc.num()](/man/bc.d.qmd) is an alias for [bc.d()](/man/bc.d.qmd)
 - `bc.i(x, y "+")` is faster and more memory efficient than `bc.num(trunc(x), trunc(y), "+")`, as the latter results in producing unnecessary copies of both `x` and `y`.
 
:::

&nbsp;

For details on the operators supported in each of the outer-like functions, please refer to the relevant sections in the Reference Manual.

  
 
&nbsp;

# Binding implementations

'broadcast' provides 3 functions for dimensional binding:

 - [bind_mat()](/man/bind.qmd): binds vectors and matrices row-wise or column-wise; allows for vector (i.e. linear) recycling. Returns a matrix.
 - [bind_array()](/man/bind.qmd): binds arrays (including matrices) along any arbitrary dimension; allows dimensional broadcasting. Returns an array.
 - [bind_dt()](/man/bind.qmd): binds data.frames and data.tables; allows for matching unmatched columns. Returns a data.table.
 


::: {.callout-note}

The [bind_dt()](/man/bind.qmd) function is only callable if the 'data.table' package is also installed.

:::

&nbsp;


# Acast

The [acast()](/man/acast.qmd) function casts an array into a new dimension.  
Roughly speaking, it is somewhat analogous to `data.table::dcast()`, except that [acast()](/man/acast.qmd) works on arrays (instead of data.tables) and casts into a entirely new dimension (instead of into more columns).

&nbsp;

# Type-casting

'broadcast' offers type-casting functions. Unlike base R's type-casting functions (`as.logical()`, `as.integer()`, etc.), the type-casting functions from 'broadcast' preserve names and dimensions.

&nbsp;

# Supported Structures

The functions in the 'broadcast' package only support S3 structures. S4 structures, Reference Classes, and so on are not supported.

&nbsp;

# Naming convention

The naming convention of the outer-like functions is "bc." followed by some abbreviation of the operation type.  
For example, "b" refers to "Boolean operations", "i" to "Integer Numeric operations", and "d" to "Decimal Numeric Operations".

&nbsp;

The naming convention of the binding implementations here is "bind_" followed by the **resulting class** (abbreviated) - i.e. ...

 - [bind_mat()](/man/bind.qmd) **returns** a matrix, but can bind both matrices and vectors.
 - [bind_array()](/man/bind.qmd) **returns** an array, but can bind both arrays and matrices.
 - [bind_dt()](/man/bind.qmd) **returns** a data.table, but can bind not only data.tables, but also most other data.frame-like objects.



&nbsp;
&nbsp;
