<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Benchmarks</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Benchmarks</h1>


<div id="TOC">
<ul>
<li><a href="#introduction" id="toc-introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li><a href="#many-orthogonal-arrays" id="toc-many-orthogonal-arrays"><span class="toc-section-number">2</span> Many Orthogonal Arrays</a>
<ul>
<li><a href="#the-set-up" id="toc-the-set-up"><span class="toc-section-number">2.1</span> The set-up</a></li>
<li><a href="#the-result" id="toc-the-result"><span class="toc-section-number">2.2</span> The result</a></li>
</ul></li>
<li><a href="#large-non-orthogonal-arrays-comparisons" id="toc-large-non-orthogonal-arrays-comparisons"><span class="toc-section-number">3</span> Large non-orthogonal arrays
comparisons</a></li>
</ul>
</div>

<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(broadcast)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(bench)</span></code></pre></div>
<p> </p>
<div id="introduction" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>In this article, the speed of ‘broadcast’ is compared to the speed of
‘Numpy’ via {reticulate}. Important to note: in these comparisons,
conversion from Numpy to ‘R’ is DISABLED; this allows us to compare the
speed more fairly. When conversion would be enabled, precious time would
be wasted to convert from Numpy structures to comparable ‘R’
structures.</p>
<p> </p>
</div>
<div id="many-orthogonal-arrays" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Many Orthogonal
Arrays</h1>
<div id="the-set-up" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> The set-up</h2>
<p>8 pairs of decimal number arrays are created in both ‘R’ and ‘Numpy’.
They all have a length of (approximately) 9*10^6 elements. Each pair
will have a different number of dimensions, from 2 to 9 (hence 8 pairs
of arrays). I.e. a pair of 2d arrays, a pair of 3d arrays, etc.</p>
<p>These pairs of arrays are fully orthogonal, thus the maximum amount
of broadcasting will be employed.</p>
<p>For each pair of array the outer sum is computed using ‘broadcast’
and ‘Numpy’. This computation is repeated 100 times, and the median
result is taken.</p>
<p>Thus we get the following code:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># set-up ====</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">library</span>(broadcast)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">library</span>(tinycodet)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="fu">import_as</span>(<span class="sc">~</span>rt, <span class="st">&quot;reticulate&quot;</span>)</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>np <span class="ot">&lt;-</span> rt<span class="sc">$</span><span class="fu">import</span>(<span class="st">&quot;numpy&quot;</span>, <span class="at">convert =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="co"># loop</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>lst.out <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">&quot;list&quot;</span>, <span class="dv">8</span>)</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>counter <span class="ot">&lt;-</span> 1L</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>target_len <span class="ot">&lt;-</span> <span class="fl">9e6</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">9</span>) {</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">round</span>(target_len<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>i)) <span class="sc">|&gt;</span> <span class="fu">as.integer</span>()</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a>  len <span class="ot">&lt;-</span> n<span class="sc">^</span>i</span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;i = &quot;</span>, i, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;n = &quot;</span>, n, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;len = &quot;</span>, len, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a>  x.dims <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(n, 1L), i <span class="sc">-</span> <span class="dv">1</span>)[<span class="dv">1</span><span class="sc">:</span>i]</span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a>  y.dims <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(1L, n), i <span class="sc">-</span> <span class="dv">1</span>)[<span class="dv">1</span><span class="sc">:</span>i]</span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a>  a.dims <span class="ot">&lt;-</span> rt<span class="sc">$</span><span class="fu">r_to_py</span>(<span class="fu">as.list</span>(x.dims))</span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a>  b.dims <span class="ot">&lt;-</span> rt<span class="sc">$</span><span class="fu">r_to_py</span>(<span class="fu">as.list</span>(y.dims))</span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a>  </span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a>  npa <span class="ot">&lt;-</span> np<span class="sc">$</span>random<span class="sc">$</span><span class="fu">random_sample</span>(a.dims)</span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a>  npb <span class="ot">&lt;-</span> np<span class="sc">$</span>random<span class="sc">$</span><span class="fu">random_sample</span>(b.dims)</span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="fu">runif</span>(<span class="dv">100</span>), x.dims)</span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a>  b <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="fu">runif</span>(<span class="dv">100</span>), y.dims)</span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a>  </span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a>  res <span class="ot">&lt;-</span> bench<span class="sc">::</span><span class="fu">mark</span>(</span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a>    <span class="at">broadcast =</span> <span class="fu">bc.num</span>(a, b, <span class="st">&quot;+&quot;</span>),</span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a>    <span class="st">`</span><span class="at">numpy (NO conversion to R)</span><span class="st">`</span> <span class="ot">=</span> npa <span class="sc">+</span> npb,</span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a>    <span class="at">check =</span> <span class="cn">FALSE</span>,</span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a>    <span class="at">min_iterations =</span> <span class="dv">100</span>,</span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a>  )</span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a>  </span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a>  out <span class="ot">&lt;-</span> res<span class="sc">$</span>median</span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a>  <span class="fu">names</span>(out) <span class="ot">&lt;-</span> <span class="fu">names</span>(res<span class="sc">$</span>expression)</span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a>  out <span class="ot">&lt;-</span> out[<span class="fu">c</span>(<span class="st">&quot;broadcast&quot;</span>, <span class="st">&quot;numpy (NO conversion to R)&quot;</span>)]</span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a>  lst.out[[counter]] <span class="ot">&lt;-</span> out</span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a>  counter <span class="ot">&lt;-</span> counter <span class="sc">+</span> 1L</span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a>}</span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a></span>
<span id="cb2-44"><a href="#cb2-44" tabindex="-1"></a>bm_numpy_loop <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, lst.out) <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb2-45"><a href="#cb2-45" tabindex="-1"></a>bm_numpy_loop<span class="sc">$</span>i <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">9</span></span></code></pre></div>
<p> </p>
</div>
<div id="the-result" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> The result</h2>
<p>The {tinyplot} package is used to produce the following resulting
graph:</p>
<pre><code>#&gt; Warning: package &#39;tinyplot&#39; was built under R version 4.4.2</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p> </p>
</div>
</div>
<div id="large-non-orthogonal-arrays-comparisons" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Large non-orthogonal
arrays comparisons</h1>
<p>How about arrays that are not fully orthogonal, but still require a
lot of broadcasting in pari-wise computations?</p>
<p>Here is the benchmark:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">library</span>(broadcast)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="fu">library</span>(tinycodet)</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="fu">import_as</span>(<span class="sc">~</span>rt, <span class="st">&quot;reticulate&quot;</span>)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>np <span class="ot">&lt;-</span> rt<span class="sc">$</span><span class="fu">import</span>(<span class="st">&quot;numpy&quot;</span>, <span class="at">convert =</span> <span class="cn">FALSE</span>)</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>n <span class="ot">&lt;-</span> 26L</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>npa <span class="ot">&lt;-</span> np<span class="sc">$</span>random<span class="sc">$</span><span class="fu">rand</span>(n, 1L, n, 1L, n)</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>npb <span class="ot">&lt;-</span> np<span class="sc">$</span>random<span class="sc">$</span><span class="fu">rand</span>(n, n, 1L, n, 1L)</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>a.dim <span class="ot">&lt;-</span> <span class="fu">c</span>(n, <span class="fu">rep</span>(<span class="fu">c</span>(1L, n), <span class="dv">2</span>))</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>b.dim <span class="ot">&lt;-</span> <span class="fu">c</span>(n, <span class="fu">rep</span>(<span class="fu">c</span>(n, 1L), <span class="dv">2</span>))</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>), a.dim)</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>), b.dim)</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>bm_numpy_large <span class="ot">&lt;-</span> bench<span class="sc">::</span><span class="fu">mark</span>(</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>  <span class="at">broadcast =</span> <span class="fu">bc.num</span>(a, b, <span class="st">&quot;+&quot;</span>),</span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>  <span class="st">`</span><span class="at">numpy (no conversion to R)</span><span class="st">`</span> <span class="ot">=</span> npa <span class="sc">+</span> npb,</span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>  <span class="at">check =</span> <span class="cn">FALSE</span>,</span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a>  <span class="at">min_iterations =</span> <span class="dv">200</span>,</span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a>)</span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="fu">summary</span>(bm_numpy_large)</span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">autoplot</span>(bm_numpy_large)</span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="fu">save</span>(bm_numpy_large, <span class="at">file =</span> <span class="st">&quot;bm_numpy_large.RData&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; # A tibble: 2 × 6
#&gt;   expression                      min   median `itr/sec` mem_alloc `gc/sec`
#&gt;   &lt;bch:expr&gt;                 &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;
#&gt; 1 broadcast                    16.6ms   17.6ms      55.4    90.6MB     27.3
#&gt; 2 numpy (no conversion to R)   25.4ms   30.9ms      32.4        0B      0</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p> </p>
<p> </p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
