% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/acast.R
\name{acast}
\alias{acast}
\title{Simple and Fast Casting/Pivoting of an Array}
\usage{
acast(x, margin, grp, fill = FALSE)
}
\arguments{
\item{x}{an atomic or recursive array.}

\item{margin}{a scalar integer, specifying the margin to cast from.}

\item{grp}{a factor, specifying the indices on the \code{margin}.}

\item{fill}{Boolean, indicating if missing values should be filled. \cr
This is used in case the levels of \code{grp} do not have equal frequencies,
and thus additional values must be filled. \cr
If \code{x} is atomic but not \code{raw}, missing values are filled with \code{NA}. \cr
If \code{x} is recursive, missing values are filled with \code{list(NULL)}. \cr
If \code{x} is of type \code{raw}, uneven groupings are not supported.}
}
\value{
An array with the following properties:
\itemize{
\item \verb{ndim(out) = ndim(x) + 1l};
\item dimensions equal to \verb{c(dim(x), max(tabulate(grp))};
\item dimnames equal to \code{c(dimnames(x), list(levels(grp)))};
}
}
\description{
The \code{acast()} function spreads subsets of an array margin over a new dimension. \cr
\cr
\code{acast()} is somewhat analogous to \code{data.table::}\link[data.table]{dcast},
but it has 2 important differences:
\itemize{
\item \code{acast()} works on arrays instead of data.tables.
\item \code{acast()} casts into a completely new dimension
(namely \code{[ndim](properties.qmd)}\code{(x) + 1L}),
instead of casting into more columns.
}
}
\details{
A more detailed explanation of the \code{acast()} function can be found on the website. \cr
}
\examples{

x <- cbind(id = c(rep(1:3, each = 2), 1), grp = c(rep(1:2, 3), 2), val = rnorm(7))
grp <- as.factor(x[, 2])
levels(grp) <- c("a", "b")
margin <- 1L
out <- acast(x, margin, grp, TRUE)
}
